import { LibConfig } from '../config/lib-config';
import { CacheMode } from '../model/declarations';
import { isBoolean } from 'lodash-es';
export class CacheUtils {
    /**
     * Checks that cache is enabled and applying used cached mode.
     *
     * When mode is CacheMode.ALWAYS then only when passed param useCache === false will not be using cache.
     * When mode is CacheMode.ON_DEMAND then only when passed param useCache === true be using cache.
     *
     * @param useCache desired param can be undefined when caller has not passed it
     */
    static shouldUseCache(useCache) {
        return LibConfig.getConfig().cache.enabled &&
            ((CacheMode.ALWAYS === LibConfig.getConfig().cache.mode && (!isBoolean(useCache) || useCache))
                || (CacheMode.ON_DEMAND === LibConfig.getConfig().cache.mode && isBoolean(useCache) && useCache));
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY2FjaGUudXRpbHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9uZ3gtaGF0ZW9hcy1jbGllbnQvc3JjL2xpYi91dGlsL2NhY2hlLnV0aWxzLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsTUFBTSxzQkFBc0IsQ0FBQztBQUNqRCxPQUFPLEVBQUUsU0FBUyxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDbEQsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLFdBQVcsQ0FBQztBQUV0QyxNQUFNLE9BQU8sVUFBVTtJQUVyQjs7Ozs7OztPQU9HO0lBQ0ksTUFBTSxDQUFDLGNBQWMsQ0FBQyxRQUFpQjtRQUM1QyxPQUFPLFNBQVMsQ0FBQyxTQUFTLEVBQUUsQ0FBQyxLQUFLLENBQUMsT0FBTztZQUN4QyxDQUFDLENBQUMsU0FBUyxDQUFDLE1BQU0sS0FBSyxTQUFTLENBQUMsU0FBUyxFQUFFLENBQUMsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDO21CQUMzRixDQUFDLFNBQVMsQ0FBQyxTQUFTLEtBQUssU0FBUyxDQUFDLFNBQVMsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLElBQUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdEcsQ0FBQztDQUVGIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTGliQ29uZmlnIH0gZnJvbSAnLi4vY29uZmlnL2xpYi1jb25maWcnO1xuaW1wb3J0IHsgQ2FjaGVNb2RlIH0gZnJvbSAnLi4vbW9kZWwvZGVjbGFyYXRpb25zJztcbmltcG9ydCB7IGlzQm9vbGVhbiB9IGZyb20gJ2xvZGFzaC1lcyc7XG5cbmV4cG9ydCBjbGFzcyBDYWNoZVV0aWxzIHtcblxuICAvKipcbiAgICogQ2hlY2tzIHRoYXQgY2FjaGUgaXMgZW5hYmxlZCBhbmQgYXBwbHlpbmcgdXNlZCBjYWNoZWQgbW9kZS5cbiAgICpcbiAgICogV2hlbiBtb2RlIGlzIENhY2hlTW9kZS5BTFdBWVMgdGhlbiBvbmx5IHdoZW4gcGFzc2VkIHBhcmFtIHVzZUNhY2hlID09PSBmYWxzZSB3aWxsIG5vdCBiZSB1c2luZyBjYWNoZS5cbiAgICogV2hlbiBtb2RlIGlzIENhY2hlTW9kZS5PTl9ERU1BTkQgdGhlbiBvbmx5IHdoZW4gcGFzc2VkIHBhcmFtIHVzZUNhY2hlID09PSB0cnVlIGJlIHVzaW5nIGNhY2hlLlxuICAgKlxuICAgKiBAcGFyYW0gdXNlQ2FjaGUgZGVzaXJlZCBwYXJhbSBjYW4gYmUgdW5kZWZpbmVkIHdoZW4gY2FsbGVyIGhhcyBub3QgcGFzc2VkIGl0XG4gICAqL1xuICBwdWJsaWMgc3RhdGljIHNob3VsZFVzZUNhY2hlKHVzZUNhY2hlOiBib29sZWFuKTogYm9vbGVhbiB7XG4gICAgcmV0dXJuIExpYkNvbmZpZy5nZXRDb25maWcoKS5jYWNoZS5lbmFibGVkICYmXG4gICAgICAoKENhY2hlTW9kZS5BTFdBWVMgPT09IExpYkNvbmZpZy5nZXRDb25maWcoKS5jYWNoZS5tb2RlICYmICghaXNCb29sZWFuKHVzZUNhY2hlKSB8fCB1c2VDYWNoZSkpXG4gICAgICB8fCAoQ2FjaGVNb2RlLk9OX0RFTUFORCA9PT0gTGliQ29uZmlnLmdldENvbmZpZygpLmNhY2hlLm1vZGUgJiYgaXNCb29sZWFuKHVzZUNhY2hlKSAmJiB1c2VDYWNoZSkpO1xuICB9XG5cbn1cbiJdfQ==